"use strict";(self.webpackChunkcodingdocs=self.webpackChunkcodingdocs||[]).push([[8270],{41969:(e,t,n)=>{n.d(t,{a:()=>i,c:()=>s});var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function s(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}},60368:(e,t,n)=>{n.d(t,{d:()=>i});const i={chat:"Chat",participants:"Participants",polls:"Polls",plugins:"Plugins",mic_off:"Mic Off",mic_on:"Mic On",video_off:"Video Off",video_on:"Video On",left_meeting:"You left the meeting",share_screen_start:"Share Screen",share_screen_stop:"Stop Sharing",leave:"Leave",dismiss:"Dismiss",page:"Page",settings:"Settings",audio:"Audio",video:"Video",connection:"Connection",leave_confirmation:"Are you sure you want to leave the call?",end_meeting_for_all:"End meeting for all",cancel:"Cancel",perm_browser_denied:"Permission denied by browser","perm.sys_denied.message":"To enable system permission, go to Mac's System Preferences -> Security & Privacy ->  Privacy -> Select Microphone, Camera or 'Screen Recording' and allow permission for your specific browser",perm_sys_denied:"Permission denied by system",perm_denied_title:"Camera and mic permissions denied",perm_denied_text:"It seems like your browser or system has blocked permissions for us to access camera, microphone. Please allow these permissions and reload for a smoother experience.",full_screen:"Full Screen","full_screen.exit":"Exit Full Screen","waitlist.header_title":"Waiting","waitlist.body_text":"You are in the waiting room, the host will let you in soon.","waitlist.deny_request":"Deny request","waitlist.accept_request":"Accept request","waitlist.accept_all":"Accept all","stage_request.header_title":"Join Stage Requests","stage_request.deny_request":"Deny request","stage_request.accept_request":"Accept request","stage_request.accept_all":"Accept all","stage_request.approval_pending":"Pending","stage_request.denied":"Denied","stage_request.request":"Join stage","stage_request.leave_stage":"Leave stage","stage_request.request_tip":"Request to join the discussion","stage_request.leave_tip":"Leave the stage","stage_request.pending_tip":"Request pending","stage_request.denied_tip":"Rejected request","stage.empty_host":"The stage is empty","stage.empty_host_summary":"To begin the webinar, please join the stage or accept a join stage request from the participants tab.","stage.empty_viewer":"Webinar has not yet been started","stage.remove_from_stage":"Remove from stage","stage.add_to_stage":"Add to stage","stage.join_title":"Joining webinar stage","stage.join_summary":"Upon joining the stage, your video & audio as shown above will be visible to all participants.","stage.join_cancel":"Cancel","stage.join_confirm":"Confirm & Join stage","setup_screen.join_in_as":"Join in as","setup_screen.joining_as":"Joining as","setup_screen.your_name":"Your name"}},18270:(e,t,n)=>{n.r(t),n.d(t,{dyte_screen_share_toggle:()=>l});var i=n(94196),s=n(67393),r=n(33565),o=n(29799),a=n(76851);n(60368),n(41969);const c=()=>"undefined"!=typeof navigator&&void 0!==navigator.mediaDevices&&"getDisplayMedia"in navigator.mediaDevices,l=class{constructor(e){(0,i.r)(this,e),this.variant="button",this.iconPack=s.d,this.t=(0,r.u)(),this.maxScreenShareCount=-1,this.screenShareCount=0,this.screenShareEnabled=!1,this.canScreenShare=!1,this.shareScreenPermission="NOT_REQUESTED",this.selfScreenShareListener=({screenShareEnabled:e})=>{this.screenShareEnabled=e},this.screenShareListener=({screenShareEnabled:e})=>{const t=this.screenShareCount+(e?1:-1);this.screenShareCount=Math.max(t,0)},this.participantLeftListener=({screenShareEnabled:e})=>{e&&(this.screenShareCount=Math.max(this.screenShareCount-1,0))},this.selfJoinStateListener=()=>{this.updateCanProduce(this.meeting)},this.selfJoinStateRejectedListener=()=>{this.updateCanProduce(this.meeting)},this.mediaPermissionErrorListener=({kind:e,message:t})=>{"screenshare"===e&&(this.shareScreenPermission=t)},this.reachedMaxScreenShares=()=>this.maxScreenShareCount>0&&this.screenShareCount>=this.maxScreenShareCount,this.toggleScreenShare=()=>{var e;const t=null===(e=this.meeting)||void 0===e?void 0:e.self;null==t||!this.canScreenShare||this.reachedMaxScreenShares()||this.hasPermissionError()||(t.screenShareEnabled?t.disableScreenShare():t.enableScreenShare())}}connectedCallback(){c()||o.l.error("[dyte-screenshare-toggle] Device does not support screensharing."),this.meetingChanged(this.meeting)}disconnectedCallback(){var e,t,n,i,s,r,o,a,c;null===(e=this.meeting)||void 0===e||e.participants.joined.removeListener("screenShareUpdate",this.screenShareListener),null===(t=this.meeting)||void 0===t||t.participants.joined.removeListener("participantLeft",this.participantLeftListener),null===(n=this.meeting)||void 0===n||n.self.removeListener("screenShareUpdate",this.selfScreenShareListener),null===(i=this.meeting)||void 0===i||i.self.removeListener("mediaPermissionError",this.mediaPermissionErrorListener),null===(s=this.meeting)||void 0===s||s.self.removeListener("joinStageRequestAccepted",this.selfJoinStateListener),null===(r=this.meeting)||void 0===r||r.self.removeListener("joinStageRequestRejected",this.selfJoinStateRejectedListener),null===(o=this.meeting)||void 0===o||o.self.removeListener("stageJoined",this.selfJoinStateListener),null===(a=this.meeting)||void 0===a||a.self.removeListener("stageLeft",this.selfJoinStateListener),null===(c=this.meeting)||void 0===c||c.self.removeListener("removedFromStage",this.selfJoinStateListener)}meetingChanged(e){var t;if(null!=e){const n=e.self;this.canScreenShare=c()&&(0,a.c)(a.P.ScreenShare,n.permissions),this.updateCanProduce(e),this.maxScreenShareCount=(0,a.a)(e.self.permissions)?-1:null!==(t=e.self.permissions.maxScreenShareCount)&&void 0!==t?t:-1,this.screenShareEnabled=n.screenShareEnabled;let i=0;for(const t of e.participants.joined.toArray())t.screenShareEnabled&&i++;this.screenShareCount=i,e.participants.joined.addListener("screenShareUpdate",this.screenShareListener),e.participants.joined.addListener("participantLeft",this.participantLeftListener),n.addListener("screenShareUpdate",this.selfScreenShareListener),n.addListener("mediaPermissionError",this.mediaPermissionErrorListener),n.addListener("joinStageRequestAccepted",this.selfJoinStateListener),n.addListener("joinStageRequestRejected",this.selfJoinStateRejectedListener),n.addListener("stageJoined",this.selfJoinStateListener),n.addListener("stageLeft",this.selfJoinStateListener),n.addListener("removedFromStage",this.selfJoinStateListener)}}updateCanProduce(e){const{self:t,meta:n}=e,i=(0,a.c)(a.P.ScreenShare,t.permissions),s="WEBINAR"===n.viewType;if(this.canScreenShare=!1,!s&&i&&(this.canScreenShare=!0),s&&i){const e=t.permissions.canPresent,n=t.permissions.requestProduce;(e||n&&("ON_STAGE"===t.webinarStageStatus||"ACCEPTED_TO_JOIN_STAGE"===t.webinarStageStatus))&&(this.canScreenShare=!0)}}hasPermissionError(){return"SYSTEM_DENIED"===this.shareScreenPermission||"COULD_NOT_START"===this.shareScreenPermission}getState(){let e="",t="",n="",i={};const s=this.hasPermissionError(),r=this.reachedMaxScreenShares();return this.screenShareEnabled&&!s?(t=this.t("share_screen_stop"),n=this.iconPack.share_screen_stop,i["red-icon"]=!0):(t=this.t("share_screen_start"),n=this.iconPack.share_screen_start),"SYSTEM_DENIED"===this.shareScreenPermission?(e=this.t("perm_sys_denied"),i["red-icon"]=!0):e=t,r&&(e=this.t("Maximum screen share limit reached")),{tooltipLabel:e,label:t,icon:n,classList:i,showWarning:s||r}}render(){if(!this.canScreenShare)return null;const{tooltipLabel:e,label:t,icon:n,classList:s,showWarning:r}=this.getState();return(0,i.h)(i.H,{title:t},(0,i.h)("dyte-tooltip",{placement:"top",kind:"block",label:e,delay:600,part:"tooltip"},(0,i.h)("dyte-controlbar-button",{part:"controlbar-button",size:this.size,iconPack:this.iconPack,variant:this.variant,label:t,icon:n,class:s,onClick:this.toggleScreenShare,disabled:r,showWarning:r})))}static get watchers(){return{meeting:["meetingChanged"]}}};l.style=":host{display:block;font-family:var(--dyte-font-family, sans-serif)}"},33565:(e,t,n)=>{n.d(t,{g:()=>s,u:()=>r});var i=n(60368);const s=async e=>{if(null==e||"en"===e||""===e.trim())return i.d;try{const t=await fetch(`http://localhost:5000/${e}.json`);return t.ok?Object.assign({},i.d,await t.json()):i.d}catch(t){return i.d}},r=(e=i.d)=>t=>{var n;return null!==(n=e[t])&&void 0!==n?n:t}},29799:(e,t,n)=>{n.d(t,{l:()=>s});var i=n(41969),s=(0,i.c)((function(e){var t,n;t=i.a,n=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function s(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(i){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function r(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(t,n){for(var s=0;s<i.length;s++){var r=i[s];this[r]=s<t?e:this.methodFactory(r,t,n)}this.log=this.debug}function a(e,n,i){return function(){typeof console!==t&&(o.call(this,n,i),this[e].apply(this,arguments))}}function c(i,o,c){return function(i){return"debug"===i&&(i="log"),typeof console!==t&&("trace"===i&&n?r:void 0!==console[i]?s(console,i):void 0!==console.log?s(console,"log"):e)}(i)||a.apply(this,arguments)}function l(e,n,s){var r,a=this;n=null==n?"WARN":n;var l="loglevel";function d(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(s){}if(typeof e===t)try{var n=window.document.cookie,i=n.indexOf(encodeURIComponent(l)+"=");-1!==i&&(e=/^([^;]+)/.exec(n.slice(i))[1])}catch(s){}return void 0===a.levels[e]&&(e=void 0),e}}"string"==typeof e?l+=":"+e:"symbol"==typeof e&&(l=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=s||c,a.getLevel=function(){return r},a.setLevel=function(n,s){if("string"==typeof n&&void 0!==a.levels[n.toUpperCase()]&&(n=a.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(r=n,!1!==s&&function(e){var n=(i[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=n)}catch(s){}try{window.document.cookie=encodeURIComponent(l)+"="+n+";"}catch(s){}}}(n),o.call(a,n,e),typeof console===t&&n<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){n=e,d()||a.setLevel(e,!1)},a.resetLevel=function(){a.setLevel(n,!1),function(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var h=d();null==h&&(h=n),a.setLevel(h,!1)}var d=new l,h={};d.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=h[e];return t||(t=h[e]=new l(e,d.getLevel(),d.methodFactory)),t};var u=typeof window!==t?window.log:void 0;return d.noConflict=function(){return typeof window!==t&&window.log===d&&(window.log=u),d},d.getLoggers=function(){return h},d.default=d,d},e.exports?e.exports=n():t.log=n()}));s.enableAll()},76851:(e,t,n)=>{n.d(t,{P:()=>r,a:()=>i,c:()=>o,i:()=>s});const i=e=>"requestProduceVideo"in e,s=e=>!("controlBar"in e);var r;!function(e){e[e.Video=0]="Video",e[e.Audio=1]="Audio",e[e.ScreenShare=2]="ScreenShare"}(r||(r={}));const o=(e,t)=>{switch(e){case r.Video:return"ALLOWED"===(i(t)?t.produceVideo:t.produceVideo.allow);case r.Audio:return"ALLOWED"===(i(t),t.produceAudio);case r.ScreenShare:return"ALLOWED"===(i(t)?t.produceScreenshare:t.produceScreenshare.allow)}}}}]);